<ion-view view-title="Autentica un prodotto">
  
    <ion-nav-buttons side="primary">
      <a href="#/app/programs" class="button button-clear">
        <i class="icon ion-ios-arrow-back"></i>
      </a>
    </ion-nav-buttons>  

    <ion-content class="has-header">
      <div class="list list-inset" ng-show="stato_valida == 'VALIDA'" >
      

        <label class="item item-input item-stacked-label " >
          <span class="input-label">Codice a barre *</span>
          <input type="text" ng-model="bc.barcode" placeholder="barcode"  >
        </label>

        <button class="button button-small button-full button-dark" ng-click="leggiBarcode()">
            Leggi codice a barre    
        </button>

        <label class="item item-input item-stacked-label" >
          <span class="input-label">Codice di sicurezza *</span>
          <input type="text" ng-model="bc.bar_pass" placeholder="Codice di sicurezza"  >
        </label>

      </div>

      <div class="list card" ng-show="bc.prodotto">
        <div class="item item-divider">
          {{bc.prodotto.cod_articolo}} {{bc.prodotto.descrizione}}
        </div>
        <div class="item item-text-wrap" ng-bind-html="bc.prodotto.html_prodotto" >
        </div>  
        <div class="item item-image">
          <img ng-src="{{bc.prodotto.image}}">
        </div>
      </div>      

      <div class="list card" ng-show="error">
        <div class="item item-image">
          <img ng-src="img/error.svg" style="width:50%; margin:5px;">
        </div> 
        <div class="item item-text-wrap">
          Nr {{tentativi_rimasti}} tentativi rimasti
        </div>                
      </div>


  </ion-content>

  <ion-footer-bar  class="bar-dark" style="padding-top:0px;">
    <button class="button button-block button-dark" 
        ng-click="validaProdotto()"
        ng-show="stato_valida == 'VALIDA'" >Valida prodotto</button>

      <button class="button button-block button-dark"
        ng-click="tornaProgrammi()" 
        ng-show="stato_valida == 'OK' || stato_valida == 'KO'">
        Torna indietro
      </button>        
  </ion-footer-bar>          
</ion-view>

    

